{"id":"saf-site-vitepress-2k2","title":"EPIC: Core Layouts","description":"Build foundational page layouts: home, doc pages with typography, browse pages pattern. These are required before content migration.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-12T17:23:41.751349-05:00","created_by":"alippold","updated_at":"2026-01-12T17:23:41.751349-05:00","dependencies":[{"issue_id":"saf-site-vitepress-2k2","depends_on_id":"saf-site-vitepress-42k","type":"blocks","created_at":"2026-01-12T17:25:03.983567-05:00","created_by":"alippold"},{"issue_id":"saf-site-vitepress-2k2","depends_on_id":"saf-site-vitepress-npl","type":"blocks","created_at":"2026-01-12T17:25:04.122509-05:00","created_by":"alippold"},{"issue_id":"saf-site-vitepress-2k2","depends_on_id":"saf-site-vitepress-dst","type":"blocks","created_at":"2026-01-12T17:25:04.265525-05:00","created_by":"alippold"},{"issue_id":"saf-site-vitepress-2k2","depends_on_id":"saf-site-vitepress-5es","type":"blocks","created_at":"2026-01-12T17:25:04.386326-05:00","created_by":"alippold"},{"issue_id":"saf-site-vitepress-2k2","depends_on_id":"saf-site-vitepress-dfg","type":"blocks","created_at":"2026-01-12T18:46:06.245135-05:00","created_by":"alippold"}]}
{"id":"saf-site-vitepress-33i","title":"PROJECT CONTEXT: VitePress POC for SAF Site","description":"## Project Overview\n\n**Goal**: Evaluate VitePress as replacement for Nuxt for MITRE SAF documentation site (open source version)\n\n**Why VitePress?**\n- Separate visual identity from commercial product (which uses Nuxt UI)\n- Avoid brand confusion between OSS and commercial offerings\n- Potentially better performance and simpler hosting (static site)\n- Built-in local search, good documentation tooling\n\n**Repository**: https://github.com/mitre/saf-site-vitepress\n**Original Nuxt repo**: `/Users/alippold/github/mitre/saf-site-v4`\n\n## Success Criteria\n\nThis POC needs to prove VitePress can handle:\n1. **Complex data management**: YAML-based profiles, hardening guides, standards\n2. **Interactive features**: Client-side filters, search, browse pages\n3. **Production-quality components**: Good defaults, accessible, maintainable\n4. **Static site generation**: Fast builds, good bundle size\n5. **Content architecture**: Same UX as Nuxt but simpler stack\n\n## High-Level Work Tracks\n\n### Track 1: Core Infrastructure (Current)\n- Establish layout patterns (doc vs page)\n- Choose component library (Reka UI vs Shadcn Vue)\n- Build reusable page layouts (home, browse, framework)\n- Set up data loaders for YAML content\n\n### Track 2: Content Migration\n- Copy YAML data from saf-site-v4\n- Create browse pages (validation, hardening, standards)\n- Generate individual detail pages\n- Migrate framework content (Plan, Harden, Validate, etc.)\n\n### Track 3: Production Evaluation\n- Build performance testing\n- Bundle size analysis\n- Search quality validation\n- Deployment strategy\n- Final decision: VitePress vs Nuxt\n\n## Key Constraints\n\n- **NO commercial product references** in code/docs/beads\n- Use hub-spoke pattern in beads (NOT markdown documentation files)\n- This is production evaluation, not just a POC throwaway\n- Component library choice is CRITICAL - affects all future work\n\n## Tech Stack\n\n- **Framework**: VitePress 1.6.4\n- **Components**: Reka UI 2.7.0 (headless - may switch to Shadcn Vue)\n- **Data**: VitePress data loaders (build-time YAML processing)\n- **Styling**: VitePress default theme + MITRE branding\n- **Search**: VitePress built-in local search\n\n## Current Status\n\n**What's Working**:\n- Browse page with filters (validation profiles)\n- Full-width layout with proper typography\n- Client-side reactive filtering\n- MITRE branding colors\n\n**Pending Decisions**:\n- Component library (Reka UI issues with transparency)\n- Data loader implementation for real YAML\n- Home page design/layout\n\n**Next Major Milestone**: Complete all core layouts to evaluate feasibility","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-12T17:34:28.228194-05:00","created_by":"alippold","updated_at":"2026-01-12T17:34:28.228194-05:00"}
{"id":"saf-site-vitepress-42k","title":"Create home page layout with hero","description":"Build home page (/) with hero section, features grid, and getting started section. Use layout: page for full custom design.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-12T17:24:13.970896-05:00","created_by":"alippold","updated_at":"2026-01-12T17:24:13.970896-05:00"}
{"id":"saf-site-vitepress-4ja","title":"Port composables from saf-site-v4","description":"## Port Composables from saf-site-v4\n\n**Goal:** Adapt existing composables to work with VitePress data loaders instead of Nuxt Content.\n\n**Source:** `/Users/alippold/github/mitre/saf-site-v4/app/composables/`\n\n**Target:** `docs/.vitepress/composables/`\n\n**Composables to Port:**\n\n### 1. useProfiles.ts (~170 lines)\n**What it provides:**\n- Computed filter lists: standards, categories, platforms, organizations\n- Computed counts: countsByStandard, countsByStatus\n- Filter function with multiple criteria\n- Search function (name, description, id)\n\n**Adaptation:**\n```typescript\n// OLD (Nuxt Content):\nconst files = await queryCollection\u003cProfilesFile\u003e('profiles').all()\n\n// NEW (VitePress data loader):\nimport { data } from '../loaders/profiles.data'\nconst profiles = computed(() =\u003e data.profiles)\n```\n\n**Reuse:** ~80% (only data source changes)\n\n### 2. useHardeningProfiles.ts (~150 lines)\nSimilar pattern to useProfiles but for hardening guides.\n\n**Reuse:** ~80%\n\n### 3. useStandards.ts (~100 lines)\nLoads and filters security standards.\n\n**Reuse:** ~80%\n\n### 4. useOrganizations.ts (~60 lines)\nOrganization metadata and filtering.\n\n**Reuse:** ~90% (pure utility functions)\n\n### 5. useTeams.ts (~55 lines)\nTeam metadata and filtering.\n\n**Reuse:** ~90%\n\n**Key Changes:**\n- Replace `queryCollection()` with data loader imports\n- Remove `loading` state (data loaded at build time)\n- Keep all filter/search/count logic (it's generic)\n- Update types to match schema.ts\n\n**Testing:**\n- Import in browse pages\n- Test filters work correctly\n- Verify computed values update reactively\n- Check TypeScript types are correct\n\n**Dependencies:** \n- Requires schema.ts (saf-site-vitepress-sc2)\n- Requires data loaders to be updated (saf-site-vitepress-l7u)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T19:37:49.815349-05:00","created_by":"alippold","updated_at":"2026-01-12T19:37:49.815349-05:00","dependencies":[{"issue_id":"saf-site-vitepress-4ja","depends_on_id":"saf-site-vitepress-sc2","type":"blocks","created_at":"2026-01-12T19:37:50.021434-05:00","created_by":"alippold"},{"issue_id":"saf-site-vitepress-4ja","depends_on_id":"saf-site-vitepress-l7u","type":"blocks","created_at":"2026-01-12T19:37:50.143123-05:00","created_by":"alippold"}]}
{"id":"saf-site-vitepress-5es","title":"Create apps showcase layout","description":"Build /apps landing page with app cards (Heimdall, Vulcan, SAF CLI). Similar to browse but with different card design.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T17:24:22.407154-05:00","created_by":"alippold","updated_at":"2026-01-12T17:24:22.407154-05:00"}
{"id":"saf-site-vitepress-76e","title":"Integrate Drizzle Studio for content editing","description":"## Integrate Drizzle Studio for Content Editing\n\n**Tool:** Drizzle Studio (official Drizzle ORM GUI)\n\n**What it provides:**\n- Visual table editor (click table → see rows)\n- Edit forms with FK dropdowns\n- Understands Drizzle schema automatically\n- Works with PGlite\n- Local development tool\n\n**Setup:**\n```bash\n# Run Drizzle Studio\nnpx drizzle-kit studio\n\n# Points to PGlite database in IndexedDB\n# Reads schema.ts for table structure\n```\n\n**Workflow:**\n1. Load YAML → PGlite (on first run)\n2. Edit data in Drizzle Studio\n3. Export PGlite → YAML (export button/script)\n4. VitePress build picks up changes\n\n**Documentation to create:**\n- CONTENT-EDITING.md with Drizzle Studio setup\n- YAML import/export scripts\n- How to run Studio locally\n- Export workflow\n\n**Reference:** https://orm.drizzle.team/drizzle-studio/overview","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T19:26:15.574514-05:00","created_by":"alippold","updated_at":"2026-01-12T19:36:53.56867-05:00"}
{"id":"saf-site-vitepress-bj4","title":"Implement dynamic routes for profile detail pages","description":"## Implement Dynamic Routes for Profile Detail Pages\n\n**Goal:** Replace manual markdown files with dynamic route generation for validation profiles.\n\n**Current State:**\n- Manual files: `rhel8-stig.md`, `ubuntu-20-cis.md`, `windows-server-2019-stig.md`\n- Each profile needs a separate markdown file (doesn't scale)\n\n**Target State:**\n- Single template: `docs/validate/profiles/[slug].md`\n- Paths generator: `docs/validate/profiles/[slug].paths.ts`\n- Automatically generates pages for all profiles from YAML data\n\n**Implementation:**\n\n1. Create template file `docs/validate/profiles/[slug].md`:\n```vue\n---\nlayout: doc\n---\n\u003cscript setup\u003e\nimport { useData } from 'vitepress'\nconst { params } = useData()\n\u003c/script\u003e\n\n# {{ params.name }}\n\n{{ params.description }}\n\n- **Category:** {{ params.category }}\n- **Technology:** {{ params.technology }}\n- **Version:** {{ params.version }}\n- **Maintainer:** {{ params.maintainer }}\n\n[View on GitHub]({{ params.github_url }})\n```\n\n2. Create paths generator `docs/validate/profiles/[slug].paths.ts`:\n```typescript\nimport { data } from '../../.vitepress/loaders/profiles.data'\n\nexport default {\n  paths() {\n    return data.profiles.map(profile =\u003e ({\n      params: profile\n    }))\n  }\n}\n```\n\n3. Update browse page links to use new route structure\n4. Delete manual profile markdown files\n5. Test all routes work correctly\n\n**Benefits:**\n- Scales to 100+ profiles automatically\n- Single source of truth (YAML data)\n- Consistent page structure\n- Easy to update template for all pages\n\n**Reference:** VitePress Dynamic Routes docs","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T18:45:37.744352-05:00","created_by":"alippold","updated_at":"2026-01-12T18:45:37.744352-05:00"}
{"id":"saf-site-vitepress-c6s","title":"EPIC: Core Pages","description":"Main site structure: home page, framework pages, apps pages, docs structure and navigation.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-12T17:23:50.070167-05:00","created_by":"alippold","updated_at":"2026-01-12T17:23:50.070167-05:00"}
{"id":"saf-site-vitepress-cei","title":"SESSION 011 Recovery Context","description":"## Session 011 Summary\n\n**Repository**: `/Users/alippold/github/mitre/saf-site-vitepress`\n**Branch**: `main`\n**Dev Server**: Was on http://localhost:5174 (crashed with OOM exit 137)\n\n### Completed This Session\n\n1. **Fixed Layout Bug**: \n   - Changed from `layout: page` to `layout: doc` for browse pages\n   - Added `aside: false` to disable TOC sidebar\n   - Created full-width CSS overrides in `custom.css` (.VPDoc selectors)\n   - Result: Proper typography + full-width layout working\n\n2. **Key Decision - Browse Page Pattern**:\n   ```yaml\n   ---\n   layout: doc\n   aside: false\n   ---\n   ```\n   - Use `layout: doc` for typography (not `layout: page` which has NO styling)\n   - Override width constraints with CSS in `custom.css`\n   - Pattern documented in beads card `saf-site-vitepress-npl`\n\n3. **Beads Board Initialized**:\n   - 5 epics created with dependencies\n   - Currently on: `saf-site-vitepress-npl` (Document browse pattern) - IN PROGRESS\n   - Ready to start: `saf-site-vitepress-42k` (Create home page layout)\n\n### Current State\n\n**Files Changed** (not yet committed):\n- `LAYOUT-PATTERNS.md` - Created but should be DELETED (user wants hub-spoke pattern in beads, not MD files)\n\n**What's Committed**:\n- Layout fix (doc + aside:false + CSS overrides)\n- Beads initialization with epics\n\n**Branch Status**:\n- `main` is 3 commits ahead of `origin/main`\n- Need to push before switching sessions\n\n### Beads Board Structure\n\n**P0 Epics (Critical)**:\n- `saf-site-vitepress-uw8`: Component Library Decision (Reka UI vs Shadcn Vue)\n- `saf-site-vitepress-2k2`: Core Layouts (blocked by 4 tasks)\n\n**P0 Tasks (Ready Now)**:\n- `saf-site-vitepress-npl`: Document browse page pattern ← IN PROGRESS\n- `saf-site-vitepress-42k`: Create home page layout ← NEXT\n\n**P1 Epics**:\n- `saf-site-vitepress-z90`: Browse Pages\n- `saf-site-vitepress-dqt`: Content Migration\n\n**P1 Tasks**:\n- `saf-site-vitepress-dst`: Create framework page layout\n- `saf-site-vitepress-5es`: Create apps showcase layout\n\n### Next Session Action Plan\n\n1. **Restart dev server**: `cd /Users/alippold/github/mitre/saf-site-vitepress \u0026\u0026 pnpm dev`\n2. **Clean up**: `rm LAYOUT-PATTERNS.md` (use beads instead)\n3. **Finish current task**: Update `saf-site-vitepress-npl` with browse pattern details\n4. **Commit and push**: Push the 3 local commits to origin\n5. **Start home page**: Work on `saf-site-vitepress-42k` (hero layout)\n\n### Key Learnings\n\n**VitePress Layout Pattern**:\n- `layout: page` = blank canvas, NO typography (h1/p unstyled)\n- `layout: doc` = proper typography, but narrow (688px)\n- **Solution**: Use `doc` + override widths in CSS\n\n**Browse Page CSS** (in `custom.css`):\n```css\n.VPDoc .container { max-width: 1400px !important; }\n.VPDoc .content { max-width: none !important; }\n.VPDoc .content-container { max-width: none !important; }\n```\n\n### Commands for New Session\n\n```bash\ncd /Users/alippold/github/mitre/saf-site-vitepress\nbd ready                    # See available work\nbd show saf-site-vitepress-npl  # View current task\npnpm dev                    # Restart dev server\ngit push                    # Push commits\n```","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-12T17:33:48.169057-05:00","created_by":"alippold","updated_at":"2026-01-12T17:33:48.169057-05:00"}
{"id":"saf-site-vitepress-dfg","title":"Set up asset directory structure","description":"## Set Up Asset Directory Structure\n\n**Goal:** Establish organized asset directory for images, icons, and downloadable files.\n\n**Target Structure:**\n```\ndocs/public/\n├── img/\n│   ├── logos/\n│   │   ├── mitre-saf.png (already exists)\n│   │   ├── mitre-saf-dark.png\n│   │   └── mitre-saf-icon.svg\n│   ├── icons/\n│   │   ├── linux.svg\n│   │   ├── windows.svg\n│   │   ├── cloud.svg\n│   │   └── database.svg\n│   └── badges/\n│       └── (future: status badges)\n└── downloads/\n    └── (future: PDF guides)\n```\n\n**Implementation:**\n\n1. Create directory structure in `docs/public/`\n2. Verify existing logo reference works: `/img/logos/mitre-saf.png`\n3. Add technology icons for Linux, Windows, Cloud, Database\n4. Update ProfileCard component to use icons if needed\n5. Document asset referencing pattern in code comments\n\n**Usage Pattern:**\n```vue\n\u003c!-- In components/markdown --\u003e\n\u003cimg src=\"/img/icons/linux.svg\" alt=\"Linux\"\u003e\n\n\u003c!-- In config --\u003e\nlogo: '/img/logos/mitre-saf.png'\n```\n\n**Key Rules:**\n- Use root-absolute paths: `/img/logo.png`\n- Don't include `/public/` in paths\n- VitePress handles hashing in production\n- Keep assets organized by type\n\n**Benefits:**\n- Organized asset management\n- Clear conventions for all developers\n- Easy to add new assets\n- Consistent paths across project","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T18:45:42.728528-05:00","created_by":"alippold","updated_at":"2026-01-12T18:45:42.728528-05:00"}
{"id":"saf-site-vitepress-dqt","title":"EPIC: Content Migration","description":"Get real data from saf-site-v4: copy YAML files, set up data loaders, generate individual detail pages.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-12T17:23:47.214903-05:00","created_by":"alippold","updated_at":"2026-01-12T17:23:47.214903-05:00","dependencies":[{"issue_id":"saf-site-vitepress-dqt","depends_on_id":"saf-site-vitepress-bj4","type":"blocks","created_at":"2026-01-12T18:46:01.134304-05:00","created_by":"alippold"},{"issue_id":"saf-site-vitepress-dqt","depends_on_id":"saf-site-vitepress-l7u","type":"blocks","created_at":"2026-01-12T18:46:10.917929-05:00","created_by":"alippold"}]}
{"id":"saf-site-vitepress-dst","title":"Create framework page layout","description":"Build framework pages (Plan, Harden, Validate, Normalize, Visualize). Use layout: doc with proper typography and prose styling.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T17:24:19.502611-05:00","created_by":"alippold","updated_at":"2026-01-12T17:24:19.502611-05:00"}
{"id":"saf-site-vitepress-l7u","title":"Expand data loaders for all content types","description":"## Expand Data Loaders for All Content Types\n\n**Goal:** Create data loaders for hardening guides, standards, and frameworks (not just validation profiles).\n\n**Current State:**\n- ✅ Validation profiles loader: `docs/.vitepress/loaders/profiles.data.ts`\n- ❌ No loaders for other content types\n\n**Target State:**\n```\ndocs/.vitepress/loaders/\n├── profiles.data.ts (exists)\n├── hardening.data.ts (new)\n├── standards.data.ts (new)\n└── frameworks.data.ts (new)\n```\n\n**Implementation:**\n\n1. **Hardening Guides Loader** (`hardening.data.ts`):\n```typescript\nimport { defineLoader } from 'vitepress'\n\ninterface HardeningGuide {\n  id: string\n  slug: string\n  name: string\n  description: string\n  platform: string\n  version: string\n  github_url: string\n}\n\nexport default defineLoader({\n  watch: ['../../content/data/hardening/*.yml'],\n  async load(): Promise\u003c{ guides: HardeningGuide[] }\u003e {\n    // Load and parse YAML files\n    // Return typed data\n  }\n})\n```\n\n2. **Standards Loader** (`standards.data.ts`):\n```typescript\ninterface Standard {\n  id: string\n  slug: string\n  name: string\n  organization: string\n  description: string\n  url: string\n}\n\nexport default defineLoader({\n  watch: ['../../content/data/standards/*.yml'],\n  async load(): Promise\u003c{ standards: Standard[] }\u003e {\n    // Load standards data\n  }\n})\n```\n\n3. **Frameworks Loader** (`frameworks.data.ts`):\n```typescript\ninterface Framework {\n  id: string\n  name: string\n  phases: string[]\n  description: string\n}\n\nexport default defineLoader({\n  watch: ['../../content/data/frameworks/*.yml'],\n  async load(): Promise\u003c{ frameworks: Framework[] }\u003e {\n    // Load framework data\n  }\n})\n```\n\n**Testing:**\n- Import data in components to verify types\n- Check hot-reload works when YAML changes\n- Verify build-time data transformation\n\n**Benefits:**\n- Consistent data loading pattern\n- Type-safe imports everywhere\n- Single source of truth (YAML files)\n- Hot-reload during development\n- Ready for dynamic route generation\n\n**Dependency:** Requires YAML data from saf-site-v4 (Content Migration epic)","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T18:45:46.90197-05:00","created_by":"alippold","updated_at":"2026-01-12T18:45:46.90197-05:00","dependencies":[{"issue_id":"saf-site-vitepress-l7u","depends_on_id":"saf-site-vitepress-m6x","type":"blocks","created_at":"2026-01-12T19:46:42.072302-05:00","created_by":"alippold"}]}
{"id":"saf-site-vitepress-m6x","title":"Create YAML file validation schemas (Zod)","description":"## Create YAML File Validation Schemas\n\n**Goal:** Build Zod schemas to validate YAML file structure (wrapper + arrays).\n\n**Location:** `docs/.vitepress/database/yaml-schemas.ts`\n\n**Problem:**\n- Database schema defines individual rows (Profile, HardeningProfile, etc.)\n- YAML files have wrapper structure (_id, _metadata, array of items)\n- Need to validate YAML file format when loading\n\n**Pattern:**\n```typescript\nimport { z } from 'zod'\nimport { insertProfileSchema, insertHardeningProfileSchema } from './schema'\n\n// Validation Profiles YAML File\nexport const ProfilesFileSchema = z.object({\n  _id: z.string(),\n  _metadata: z.object({\n    standard: z.string().optional(),\n    description: z.string().optional()\n  }).optional(),\n  profiles: z.array(insertProfileSchema)  // Reuse drizzle-zod schema\n})\n\nexport type ProfilesFile = z.infer\u003ctypeof ProfilesFileSchema\u003e\n\n// Hardening Profiles YAML File\nexport const HardeningFileSchema = z.object({\n  _id: z.string(),\n  _metadata: z.object({\n    framework: z.string().optional(),\n    technology: z.string().optional(),\n    description: z.string().optional(),\n    lastUpdated: z.string().optional(),\n    team: z.string().optional(),\n    organization: z.string().optional(),\n    logo: z.string().optional()\n  }).optional(),\n  profiles: z.array(insertHardeningProfileSchema)\n})\n\nexport type HardeningFile = z.infer\u003ctypeof HardeningFileSchema\u003e\n\n// Standards, Organizations, Teams, etc.\n// ... similar pattern for each YAML file type\n```\n\n**Usage in Data Loaders:**\n```typescript\nimport { parse } from 'yaml'\nimport { ProfilesFileSchema } from '../database/yaml-schemas'\n\nexport default defineLoader({\n  async load() {\n    const content = await readFile('profiles/stig.yml', 'utf-8')\n    const parsed = parse(content)\n    \n    // Validate YAML structure\n    const validated = ProfilesFileSchema.parse(parsed)\n    \n    return { profiles: validated.profiles }\n  }\n})\n```\n\n**Files to Create Schemas For:**\n- profiles/*.yml → ProfilesFileSchema\n- hardening/*.yml → HardeningFileSchema\n- standards/*.yml → StandardsFileSchema\n- organizations/*.yml → OrganizationsFileSchema\n- teams/*.yml → TeamsFileSchema\n- tools/*.yml → ToolsFileSchema\n- technologies/*.yml → TechnologiesFileSchema\n- tags/*.yml → TagsFileSchema\n\n**Benefits:**\n- Runtime validation of YAML format\n- Type-safe YAML loading\n- Reuses drizzle-zod schemas for individual items\n- Catches malformed YAML at build time\n\n**Dependencies:** Requires schema.ts (saf-site-vitepress-sc2)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-12T19:46:28.962175-05:00","created_by":"alippold","updated_at":"2026-01-12T19:55:32.654679-05:00","closed_at":"2026-01-12T19:55:32.654679-05:00","close_reason":"Closed","dependencies":[{"issue_id":"saf-site-vitepress-m6x","depends_on_id":"saf-site-vitepress-sc2","type":"blocks","created_at":"2026-01-12T19:46:41.831558-05:00","created_by":"alippold"}]}
{"id":"saf-site-vitepress-mk8","title":"EPIC: Content Management \u0026 Schema","description":"Self-sufficient content management: Port schema.ts (Drizzle + Zod) from saf-site-v4, YAML import/export utilities, external Zod Studio for editing. VitePress must be able to manage its own content.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-12T19:10:23.119905-05:00","created_by":"alippold","updated_at":"2026-01-12T19:10:23.119905-05:00","dependencies":[{"issue_id":"saf-site-vitepress-mk8","depends_on_id":"saf-site-vitepress-sc2","type":"blocks","created_at":"2026-01-12T19:14:34.58435-05:00","created_by":"alippold"},{"issue_id":"saf-site-vitepress-mk8","depends_on_id":"saf-site-vitepress-tfc","type":"blocks","created_at":"2026-01-12T19:23:38.749758-05:00","created_by":"alippold"}]}
{"id":"saf-site-vitepress-npl","title":"Document browse page pattern","description":"## Browse Page Pattern\n\n**Purpose**: Full-width listing pages with filters, search, and interactive Vue components while maintaining VitePress doc typography.\n\n### Frontmatter Configuration\n\n```yaml\n---\ntitle: Page Title\nlayout: doc      # Use doc layout for proper typography (NOT page layout)\naside: false     # Disable TOC sidebar for full-width content\n---\n```\n\n**Why `layout: doc`?**\n- `layout: page` gives blank canvas with NO typography (h1, p tags are unstyled)\n- `layout: doc` provides proper VitePress typography but is narrow (688px default)\n- Solution: Use `doc` layout + override width constraints with CSS\n\n### CSS Overrides (in `docs/.vitepress/theme/custom.css`)\n\n```css\n/* Full-width doc layout for browse pages */\n.VPDoc .container {\n  max-width: 1400px !important;\n}\n\n.VPDoc .content {\n  max-width: none !important;\n}\n\n.VPDoc .content-container {\n  max-width: none !important;\n}\n```\n\nThese overrides apply globally to ALL pages using `layout: doc`, so any page with `aside: false` gets full width automatically.\n\n### Interactive Browse Page Structure\n\n**Example**: `docs/validate/index.md`\n\n1. **Vue Script Setup** (client-side reactivity):\n```vue\n\u003cscript setup\u003e\nimport { ref, computed } from 'vue'\nimport { data } from '../.vitepress/loaders/profiles.data'\n\nconst allProfiles = data.profiles\nconst selectedCategory = ref('all')\nconst filteredProfiles = computed(() =\u003e {\n  // Filter logic here\n})\n\u003c/script\u003e\n```\n\n2. **Data Loading** (build-time):\n- Use VitePress data loaders: `docs/.vitepress/loaders/profiles.data.js`\n- Data is loaded at build time and imported as static data\n- Client-side Vue handles filtering/search on the loaded data\n\n3. **Component Usage**:\n```vue\n\u003cProfileFilters @update:category=\"selectedCategory = $event\" /\u003e\n\u003cProfileCard v-for=\"profile in filteredProfiles\" :key=\"profile.id\" :profile=\"profile\" /\u003e\n```\n\n4. **Scoped Styles**:\n```vue\n\u003cstyle scoped\u003e\n.profile-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  gap: 1.5rem;\n}\n\u003c/style\u003e\n```\n\n### When to Use This Pattern\n\nUse for:\n- ✅ Listing pages with filters (profiles, guides, apps)\n- ✅ Browse/catalog pages with search\n- ✅ Pages needing full-width card grids\n- ✅ Pages with client-side interactivity\n\nDon't use for:\n- ❌ Content-heavy documentation pages (use default `layout: doc` with sidebar)\n- ❌ Simple static pages (use `layout: page` if no typography needed)\n\n### Pattern Benefits\n\n1. **Typography**: Proper h1, h2, p styling from VitePress theme\n2. **Full-width**: Maximum screen real estate for grids\n3. **Interactive**: Client-side Vue reactivity works seamlessly\n4. **Performance**: Data loaded at build time, filters run client-side\n5. **Consistency**: Same pattern across all browse pages","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-12T17:24:16.742049-05:00","created_by":"alippold","updated_at":"2026-01-12T17:41:00.643815-05:00","closed_at":"2026-01-12T17:41:00.643815-05:00","close_reason":"Closed"}
{"id":"saf-site-vitepress-sc2","title":"Port Drizzle + Zod schema from saf-site-v4","description":"## Port Drizzle + Zod Schema from saf-site-v4\n\n**Goal:** Copy complete schema definition to establish data structure and validation.\n\n**Source:** `/Users/alippold/github/mitre/saf-site-v4/app/database/schema.ts`\n\n**Target:** `docs/.vitepress/database/schema.ts`\n\n**What to Copy:**\n- Complete Drizzle schema (tables, relations)\n- Zod schemas (createInsertSchema, createSelectSchema)\n- TypeScript type exports\n\n**Tables:**\n- tags\n- organizations\n- teams\n- technologies\n- standards\n- profiles (validation)\n- hardeningProfiles\n- tools\n- capabilities\n- Junction tables (profilesTags, validationToHardening, etc.)\n\n**Relations:**\n- All Drizzle relations for type-safe joins\n\n**Zod Schemas:**\n- Insert/Select schemas for all tables\n- Runtime validation\n\n**TypeScript Types:**\n- Type exports using $inferSelect/$inferInsert\n\n**Testing:**\n- Import schema in data loader\n- Verify types work in TypeScript\n- Test Zod validation with sample data\n\n**Dependencies:** None (first task in Content Management)","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-12T19:14:34.367479-05:00","created_by":"alippold","updated_at":"2026-01-12T19:55:32.627597-05:00","closed_at":"2026-01-12T19:55:32.627597-05:00","close_reason":"Closed"}
{"id":"saf-site-vitepress-tfc","title":"Create YAML import/export utilities","description":"## Create YAML Import/Export Utilities\n\n**Goal:** Build utilities to load, validate, and export YAML content files.\n\n**Location:** `docs/.vitepress/utils/yaml.ts`\n\n**Features:**\n\n### 1. YAML Loader with Zod Validation\n```typescript\nimport { parse } from 'yaml'\nimport { insertProfileSchema } from '../database/schema'\n\nexport async function loadProfiles(yamlPath: string) {\n  const content = await readFile(yamlPath, 'utf-8')\n  const parsed = parse(content)\n  \n  // Validate each profile with Zod\n  const validated = parsed.profiles.map(p =\u003e \n    insertProfileSchema.parse(p)\n  )\n  \n  return validated\n}\n```\n\n### 2. YAML Exporter\n```typescript\nexport function exportToYAML(data: Profile[]) {\n  return stringify({\n    _id: 'profiles',\n    _metadata: { ... },\n    profiles: data\n  })\n}\n```\n\n### 3. Import from saf-site-v4\n```typescript\n// Copy YAML files from saf-site-v4/content/data/\n// to saf-site-vitepress/content/data/\nexport async function importFromV4() {\n  const sourcePath = '/path/to/saf-site-v4/content/data'\n  const targetPath = './content/data'\n  \n  // Copy all .yml files\n  // Validate during copy\n}\n```\n\n**Testing:**\n- Load sample YAML file\n- Validate with Zod schema\n- Export back to YAML\n- Round-trip test (load → export → load → compare)\n\n**Dependencies:** Requires schema.ts (saf-site-vitepress-sc2)","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-12T19:23:38.356292-05:00","created_by":"alippold","updated_at":"2026-01-12T19:23:38.356292-05:00","dependencies":[{"issue_id":"saf-site-vitepress-tfc","depends_on_id":"saf-site-vitepress-sc2","type":"blocks","created_at":"2026-01-12T19:23:38.636987-05:00","created_by":"alippold"},{"issue_id":"saf-site-vitepress-tfc","depends_on_id":"saf-site-vitepress-m6x","type":"blocks","created_at":"2026-01-12T19:46:41.950444-05:00","created_by":"alippold"}]}
{"id":"saf-site-vitepress-uen","title":"EPIC: Production Evaluation","description":"Final decision: Is VitePress production-ready for SAF? Test build performance, bundle size, search quality, deployment strategy.","status":"open","priority":3,"issue_type":"epic","created_at":"2026-01-12T17:23:52.893131-05:00","created_by":"alippold","updated_at":"2026-01-12T17:23:52.893131-05:00"}
{"id":"saf-site-vitepress-uw8","title":"EPIC: Component Library Decision","description":"## Decision: Reka UI\n\n**Chosen:** Reka UI 2.7.0 (already installed)\n\n**Why:**\n- Vue-native optimization (smaller bundle, better DX)\n- Works seamlessly with VitePress CSS variables\n- Transparency/visibility issues already solved\n- 45+ components, actively maintained\n- No additional dependencies (Tailwind not needed)\n\n**Alternatives Considered:**\n1. **Shadcn Vue** - Requires Tailwind CSS (conflicts with VitePress theme)\n2. **Headless UI** - Smaller component set, Vue is secondary to React\n3. **Ark UI** - Framework-agnostic (larger bundle), state machine complexity\n\n**Pattern Established:**\nSee ProfileFilters.vue for reference:\n- Use Reka UI primitives (SelectRoot, SelectTrigger, etc.)\n- Style with VitePress CSS variables (var(--vp-c-*))\n- Scoped styles in component\n- Full keyboard navigation and ARIA support\n\n**Status:** APPROVED - proceed with Reka UI for all components","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-12T17:23:27.010415-05:00","created_by":"alippold","updated_at":"2026-01-12T18:37:57.553819-05:00","closed_at":"2026-01-12T18:37:57.553819-05:00","close_reason":"Closed"}
{"id":"saf-site-vitepress-z90","title":"EPIC: Browse Pages","description":"Content listing pages with filters and search: validation profiles, hardening profiles, standards. All use layout: doc with aside: false pattern.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-12T17:23:44.493844-05:00","created_by":"alippold","updated_at":"2026-01-12T17:23:44.493844-05:00"}
